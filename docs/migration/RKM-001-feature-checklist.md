# RKM-001 기능 체크리스트 (Vanilla 기준선)

기준 소스:
- `/Users/nmduk/PROJECTS/RK_Explore/index.html`
- `/Users/nmduk/PROJECTS/RK_Explore/app.js`
- `/Users/nmduk/PROJECTS/RK_Explore/supabase_schema.sql`

관리자 고정 이메일:
- `swanston@roomingkos.com`

## 1) 인증/세션
- [ ] 이메일+비밀번호 로그인 가능
- [ ] 회원가입 시 닉네임(2~20자) 요구
- [ ] 이메일 미인증 계정 로그인 차단
- [ ] 세션 복원(`auth.getSession`) 시 자동 앱 진입
- [ ] 로그아웃 시 상태/패널/폼 초기화

## 2) 사용자 프로필/헤더
- [ ] 프로필 패널 토글 가능
- [ ] 닉네임/이메일/가입일 표시
- [ ] 내 게시글 수 표시
- [ ] 내가 누른 투표 수 표시
- [ ] 내가 참여한 RSVP 수 표시
- [ ] 실시간 연결 상태(`Connecting/Live/Offline`) 표시

## 3) 제안(Post) 작성
- [ ] 목적지 필수 입력 검증
- [ ] 카테고리 선택(`Sports/Culture/Eatout/Travel/Study/Extra`)
- [ ] 제안일 입력 지원
- [ ] 정원 입력(1~200) 검증
- [ ] 모임 장소 입력 지원
- [ ] 모임 시간 입력 지원
- [ ] 예상 비용(0 이상) 검증
- [ ] RSVP 마감일시 유효성 검증
- [ ] 마감일시가 현재보다 과거면 차단
- [ ] 마감일시가 제안일 이후면 차단
- [ ] 상태(`proposed`) 기본 저장
- [ ] DB 스키마 불일치 시 사용자 안내 토스트

## 4) 피드 표시/정렬/탐색
- [ ] 피드 기본 로딩 및 빈 상태 UI
- [ ] 카테고리 필터(`all + 6개 카테고리`)
- [ ] 피드 필터(`all/confirmed/scheduled`)
- [ ] 검색(목적지/작성자/장소/준비물/댓글 본문)
- [ ] 정렬(`votes/newest/soonest`)
- [ ] 카드에 작성자/시간/상태/상세정보 표시

## 5) 투표/댓글
- [ ] 투표 토글(중복 시 해제)
- [ ] 댓글 섹션 토글
- [ ] 댓글 작성/등록
- [ ] Enter 키로 댓글 제출

## 6) RSVP/정원/대기열
- [ ] RSVP 토글(참여/취소)
- [ ] RSVP 마감 후 신규 참여 차단
- [ ] 정원 초과 시 대기열 진입
- [ ] 대기열 순번 표시
- [ ] 참여 인원/정원/대기열 수 표시
- [ ] 중복 RSVP(unique 제약) 에러 처리

## 7) 작성자 액션
- [ ] 본인 게시글 `Confirm` 가능
- [ ] 본인 게시글 삭제 가능
- [ ] 본인 외 게시글 신고 버튼 노출

## 8) 운영자 모드
- [ ] 관리자 토글 버튼은 `swanston@roomingkos.com` 로그인시에만 노출
- [ ] 관리자 패널 토글/새로고침
- [ ] 숨김 게시글 보기 토글
- [ ] 신고 큐 목록/액션(`Hide/Delete/Dismiss`) 지원
- [ ] 액션 로그 목록 표시
- [ ] 숨김/해제/삭제/신고기각 시 사유 입력(최소 5자)
- [ ] 게시글 숨김 시 사유/처리자/시각 저장

## 9) 실시간 동기화
- [ ] `posts/votes/rsvps/comments` 변경 이벤트 구독
- [ ] 변경 발생 시 피드 재조회 및 UI 반영
- [ ] 채널 상태에 따라 연결 인디케이터 업데이트

## 10) DB/RLS 전제
- [ ] `supabase_schema.sql` 최신 적용 시 확장 컬럼/테이블 존재
- [ ] `posts` 가시성 정책(숨김/본인/관리자) 동작
- [ ] `post_reports` 본인+관리자 조회, 관리자 업데이트 정책 동작
- [ ] `admin_action_logs` 관리자 전용 조회/삽입 정책 동작

## 전환 기준
- React 전환 단계에서 위 체크리스트 항목은 “삭제/약화 없이” 동일 동작을 보장해야 한다.
